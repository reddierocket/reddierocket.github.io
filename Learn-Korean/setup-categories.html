<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Setup Standard Categories</title>
</head>
<body>
<h1>Setting up Standard Categories in Firestore...</h1>
<div id="status">Starting...</div>

<script type="module">
import { db } from "../firebase-setup.js";  // adjust path if needed
import { collection, setDoc, doc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const statusDiv = document.getElementById("status");

async function setupCategories() {
  try {
    statusDiv.textContent = "Starting category setup...";
    console.log("Starting category setup...");

    const standardCategories = [
      "intro","medical","family","grammar","business",
      "formal","sino","food","animals","activities","travel","vocabulary"
    ];

    for (const cat of standardCategories) {
      console.log("Adding category:", cat);
      statusDiv.textContent = "Adding category: " + cat;

      await setDoc(doc(db, "categories", cat), {
        name: cat,
        isStandard: true
      });
    }

    statusDiv.textContent = "All categories added successfully!";
    console.log("All categories added successfully!");

  } catch (err) {
    statusDiv.textContent = "Error: " + err.message;
    console.error("Error during category setup:", err);
  }
}

// Run setup
setupCategories();
</script>

  


</body>
</html>
